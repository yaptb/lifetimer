.main-content {
  display: flex;
  flex-direction: column;
  justify-content: center;
  height: calc(100vh - var(--header-height, 4rem) - var(--footer-height, 3rem));
  height: calc(100dvh - var(--header-height, 4rem) - var(--footer-height, 3rem)); /* Dynamic viewport height */
  min-height: calc(100dvh - var(--header-height, 4rem) - var(--footer-height, 3rem));
  width: 100vw;
  width: calc(100vw - env(safe-area-inset-left) - env(safe-area-inset-right)); /* Safe area support */
  padding: 0 max(2rem, env(safe-area-inset-left)) 0 max(2rem, env(safe-area-inset-right)); /* Safe area padding */
  position: relative;
  box-sizing: border-box; /* Ensure padding is included in calculations */
  overscroll-behavior: contain; /* Prevent scroll chaining */
}

.content-wrapper {
  flex: 1;
  height: 100%;
  overflow-y: auto;
  background-color: rgb(var(--md-sys-color-surface));
  padding: 2rem;
  overscroll-behavior-y: contain; /* Prevent scroll chaining */
  -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
  scroll-behavior: smooth; /* Smooth scrolling */
  display: flex;
  justify-content: center;
}

.content-inner {
  display: flex;
  flex-direction: column;
  max-width: 1400px;
  width: 100%;
}

/* Mobile responsive styles */
@media (max-width: 768px) {
  .main-content {
    padding: 0;
    box-sizing: border-box; /* Ensure consistent box model */
  }

  .content-wrapper {
    width: 100%;
    padding: 0; /* Remove all padding for carousel to reach edges */
  }

  :host ::ng-deep {
    /* General text scaling */
    h1 {
      font-size: 1.875rem !important; /* Reduced from default */
      line-height: 1.3 !important;
      margin-bottom: 1rem !important;
    }

    h2 {
      font-size: 1.5rem !important; /* Reduced from default */
      line-height: 1.3 !important;
      margin-bottom: 0.875rem !important;
    }

    h3 {
      font-size: 1.25rem !important; /* Reduced from default */
      line-height: 1.4 !important;
      margin-bottom: 0.75rem !important;
    }

    h4 {
      font-size: 1.125rem !important; /* Reduced from default */
      line-height: 1.4 !important;
      margin-bottom: 0.75rem !important;
    }

    h5, h6 {
      font-size: 1rem !important; /* Reduced from default */
      line-height: 1.4 !important;
      margin-bottom: 0.5rem !important;
    }

    p, div, span {
      font-size: 0.875rem !important; /* Reduced from 1rem */
      line-height: 1.5 !important; /* Tighter line height */
    }

    /* Button text scaling */
    button, .btn {
      font-size: 0.875rem !important;
      padding: 0.75rem 1rem !important;
    }

    /* Card content scaling */
    .mat-mdc-card-content {
      font-size: 0.875rem !important;
      line-height: 1.5 !important;
    }

    /* List item scaling */
    li {
      font-size: 0.875rem !important;
      line-height: 1.5 !important;
      margin-bottom: 0.25rem !important;
    }

    /* Link scaling */
    a {
      font-size: inherit !important;
    }

    /* Form field scaling */
    .mat-mdc-form-field {
      font-size: 0.875rem !important;
    }

    /* Table scaling */
    table {
      font-size: 0.75rem !important;
    }

    th, td {
      padding: 0.5rem !important;
      font-size: 0.75rem !important;
    }

    /* Section spacing */
    section {
      margin-bottom: 2rem !important;
    }

    /* Image responsive scaling */
    img {
      max-width: 100% !important;
      height: auto !important;
    }

    /* Material Design component scaling */
    .mat-mdc-card {
      margin-bottom: 1rem !important;
    }

    .mat-mdc-card-title {
      font-size: 1.25rem !important;
      line-height: 1.4 !important;
    }

    .mat-mdc-card-subtitle {
      font-size: 0.875rem !important;
      line-height: 1.5 !important;
    }
  }
}

/* Mobile landscape specific adjustments */
@media (max-width: 768px) and (orientation: landscape) {
  .main-content {
    /* Adjust height calculation for landscape mode */
    max-height: calc(100dvh - var(--header-height, 4rem) - var(--footer-height, 3rem));
    min-height: auto; /* Remove min-height constraint */
    overflow-y: auto; /* Ensure container can scroll */
  }

  .content-wrapper {
    /* Ensure main content area can scroll properly in landscape */
    max-height: calc(100dvh - var(--header-height, 4rem) - var(--footer-height, 3rem));
    overflow-y: auto !important;
  }
}
