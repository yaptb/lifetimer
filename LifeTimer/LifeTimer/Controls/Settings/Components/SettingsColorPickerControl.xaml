<UserControl
    x:Class="LifeTimer.Controls.Settings.Components.SettingsColorPickerControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
<!--
    <UserControl.Resources>
        <Style x:Key="ColorSwatchButtonStyle" TargetType="Button">
            <Setter Property="Width" Value="24" />
            <Setter Property="Height" Value="24" />
            <Setter Property="CornerRadius" Value="4" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="BorderBrush" Value="{ThemeResource ControlStrokeColorDefaultBrush}" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{Binding Tag, RelativeSource={RelativeSource TemplatedParent}}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{TemplateBinding CornerRadius}">
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="PointerOver">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                           To="0.8" Duration="0:0:0.1" />
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Pressed">
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                           To="0.6" Duration="0:0:0.1" />
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>
    -->

    <Grid MinWidth="400">
        <!-- Color Selection Interface -->

        
        
    <StackPanel Spacing="16">

            <!-- Current Color Preview -->
            <StackPanel Spacing="8">
                <TextBlock Text="Current Color" FontSize="11" FontWeight="Medium" />

                <Border x:Name="ColorPreviewBorder"
                        Width="80"
                        Height="40"
                        CornerRadius="4"
                        BorderBrush="{ThemeResource ControlStrokeColorDefaultBrush}"
                        BorderThickness="2"
                        HorizontalAlignment="Left">
                    <Border.Background>
                            <SolidColorBrush x:Name="PreviewColorBrush" Color="Red" />
                    </Border.Background>

                    <!-- add an invisible button here to grab the focus when the picker starts-->
                       <Button Width="1" Height="1" Margin="40 ,0,0,0   " >
                        <Button.Opacity>0</Button.Opacity>                         
                       </Button>
                </Border>

            </StackPanel>

            <!-- Color Picker Controls -->
            <StackPanel Orientation="Horizontal" Spacing="16">
                <!-- Vertical Hue Bar -->
                <StackPanel Spacing="8">
                    <TextBlock Text="Hue" FontSize="11" FontWeight="Medium" />
                    <Border x:Name="HueBarBorder"
                            Width="20"
                            Height="150"
                            BorderBrush="{ThemeResource ControlStrokeColorDefaultBrush}"
                            BorderThickness="1"
                            CornerRadius="4">
                        <Canvas x:Name="HueCanvas"
                                PointerPressed="HueCanvas_PointerPressed"
                                PointerMoved="HueCanvas_PointerMoved"
                                PointerReleased="HueCanvas_PointerReleased">
                            <!-- Vertical Hue Gradient Background -->
                            <Canvas.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                    <GradientStop Color="#FFFF0000" Offset="0.0" />
                                    <GradientStop Color="#FFFFFF00" Offset="0.167" />
                                    <GradientStop Color="#FF00FF00" Offset="0.333" />
                                    <GradientStop Color="#FF00FFFF" Offset="0.5" />
                                    <GradientStop Color="#FF0000FF" Offset="0.667" />
                                    <GradientStop Color="#FFFF00FF" Offset="0.833" />
                                    <GradientStop Color="#FFFF0000" Offset="1.0" />
                                </LinearGradientBrush>
                            </Canvas.Background>
                            <!-- Hue Selection Indicator -->
                            <Rectangle x:Name="HueSelector"
                                       Width="22"
                                       Height="3"
                                       Fill="White"
                                       Stroke="Black"
                                       StrokeThickness="1"
                                       Canvas.Left="-1"
                                       Canvas.Top="0" />
                        </Canvas>
                    </Border>
                </StackPanel>

                <!-- Saturation/Value Panel -->
                <StackPanel Spacing="8">
                    <TextBlock Text="Saturation / Brightness" FontSize="11" FontWeight="Medium" />
                    <Border x:Name="SvPanelBorder"
                            Width="200"
                            Height="150"
                            BorderBrush="{ThemeResource ControlStrokeColorDefaultBrush}"
                            BorderThickness="1"
                            CornerRadius="4"
                            Background="Red">
                        <Canvas x:Name="SvCanvas"
                                PointerPressed="SvCanvas_PointerPressed"
                                PointerMoved="SvCanvas_PointerMoved"
                                PointerReleased="SvCanvas_PointerReleased">
                            <!-- SV Panel Background Gradients -->
                            <Canvas.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                    <GradientStop Color="White" Offset="0" />
                                    <GradientStop x:Name="SvHueStop" Color="Red" Offset="1" />
                                </LinearGradientBrush>
                            </Canvas.Background>
                            <!-- Overlay for Value (darkness) gradient -->
                            <Rectangle Width="200" Height="150">
                                <Rectangle.Fill>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                        <GradientStop Color="Transparent" Offset="0" />
                                        <GradientStop Color="Black" Offset="1" />
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                            <!-- Selection Indicator -->
                            <Ellipse x:Name="SvSelector"
                                     Width="12"
                                     Height="12"
                                     Stroke="White"
                                     StrokeThickness="2"
                                     Fill="Transparent"
                                     Canvas.Left="194"
                                     Canvas.Top="-6" />
                        </Canvas>
                    </Border>
                </StackPanel>

                <!-- Alpha Bar -->
                <StackPanel Spacing="8">
                    <TextBlock Text="Alpha" FontSize="11" FontWeight="Medium" />
                    <Border x:Name="AlphaBarBorder"
                            Width="20"
                            Height="150"
                            BorderBrush="{ThemeResource ControlStrokeColorDefaultBrush}"
                            BorderThickness="1"
                            CornerRadius="4">
                        <Canvas x:Name="AlphaCanvas"
                                PointerPressed="AlphaCanvas_PointerPressed"
                                PointerMoved="AlphaCanvas_PointerMoved"
                                PointerReleased="AlphaCanvas_PointerReleased">
                            <!-- Alpha gradient background -->
                            <Canvas.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                    <GradientStop x:Name="AlphaStartStop" Color="#FFFF0000" Offset="0.0" />
                                    <GradientStop x:Name="AlphaEndStop" Color="Transparent" Offset="1.0" />
                                </LinearGradientBrush>
                            </Canvas.Background>
                            <!-- Alpha Selection Indicator -->
                            <Rectangle x:Name="AlphaSelector"
                                       Width="22"
                                       Height="3"
                                       Fill="White"
                                       Stroke="Black"
                                       StrokeThickness="1"
                                       Canvas.Left="-1"
                                       Canvas.Top="0" />
                        </Canvas>
                    </Border>
                </StackPanel>

                <!-- RGBA Values -->
                <StackPanel Spacing="8">
                    <TextBlock Text="RGBA Values (0-255)" FontSize="11" FontWeight="Medium" />
                    <StackPanel Spacing="8">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="R:" VerticalAlignment="Center" FontSize="11" Width="12" />
                            <NumberBox x:Name="RedNumberBox"
                                       Width="120"
                                       Minimum="0"
                                       Maximum="255"
                                       IsTabStop="False"
                                       SpinButtonPlacementMode="Compact"
                                       ValueChanged="RgbaNumberBox_ValueChanged"
                                       FontSize="11" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="G:" VerticalAlignment="Center" FontSize="11" Width="12" />
                            <NumberBox x:Name="GreenNumberBox"
                                       Width="120"
                                       Minimum="0"
                                       Maximum="255"
                                       IsTabStop="False"
                                       SpinButtonPlacementMode="Compact"
                                       ValueChanged="RgbaNumberBox_ValueChanged"
                                       FontSize="11" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="B:" VerticalAlignment="Center" FontSize="11" Width="12" />
                            <NumberBox x:Name="BlueNumberBox"
                                       Width="120"
                                       Minimum="0"
                                       Maximum="255"
                                       IsTabStop="False"
                                       SpinButtonPlacementMode="Compact"
                                       ValueChanged="RgbaNumberBox_ValueChanged"
                                       FontSize="11" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="A:" VerticalAlignment="Center" FontSize="11" Width="12" />
                            <NumberBox x:Name="AlphaNumberBox"
                                       Width="120"
                                       Minimum="0"
                                       Maximum="255"
                                       IsTabStop="False"
                                       SpinButtonPlacementMode="Compact"
                                       ValueChanged="RgbaNumberBox_ValueChanged"
                                       FontSize="11" />
                        </StackPanel>

                        <!-- Hex Color Input -->
                        <StackPanel Spacing="4" Margin="0,8,0,0">
                            <TextBlock Text="Hex Color" FontSize="11" FontWeight="Medium" />
                            <TextBox x:Name="HexColorTextBox"
                       
                                     PlaceholderText="#FFFFFFFF"
                                     Width="120"
                                     TextChanged="HexColorTextBox_TextChanged"
                                     FontSize="11" 
                                     Margin="11,4,0,0"
                                     />
                        </StackPanel>



                    </StackPanel>
                </StackPanel>
            </StackPanel>


        </StackPanel>
    </Grid>
</UserControl>